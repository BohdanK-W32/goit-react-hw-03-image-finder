(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__3tlus"}},2:function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__9cvQ3",stats:"PhotoCard_stats__3XRLi",statsItem:"PhotoCard_statsItem__3wwLs",fullscreenBtn:"PhotoCard_fullscreenBtn__3oUVu"}},20:function(e,t,a){e.exports={gallery:"Gallery_gallery__3RNHd"}},25:function(e,t,a){e.exports=a(49)},3:function(e,t,a){e.exports={backdrop:"Modal_backdrop__3FAPo",modal:"Modal_modal__P3_V5"}},31:function(e,t,a){},4:function(e,t,a){e.exports={wrapper:"LoadMoreBtn_wrapper__13X_5",btn:"LoadMoreBtn_btn__1Bs1L"}},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),c=(a(31),a(5)),s=a(23),i=a(16),m=a(17),u=a(22),p=a(18),d=a(24),g=a(19),h=a.n(g),f=function(e){var t=e.onSubmit,a=e.onChange,n=e.value;return r.a.createElement("form",{onSubmit:t,className:h.a.searchForm},r.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",onChange:a,value:n}))},_=a(2),E=a.n(_),y=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.likes,o=e.views,l=e.comments,c=e.downloads,s=e.onClick;return r.a.createElement("div",{className:E.a.photoCard},r.a.createElement("img",{largeImageURL:a,src:t,alt:"img"}),r.a.createElement("div",{className:E.a.stats},r.a.createElement("p",{className:E.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up"),n),r.a.createElement("p",{className:E.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),o),r.a.createElement("p",{className:E.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),l),r.a.createElement("p",{className:E.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),c)),r.a.createElement("button",{type:"button",className:E.a.fullscreenBtn,onClick:s},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},C=a(20),b=a.n(C),v=function(e){var t=e.images,a=e.onClick;return r.a.createElement("ul",{className:b.a.gallery},t.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(y,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads,onClick:a}))}))},k=a(3),S=a.n(k),P=function(e){var t=e.imgSrc,a=e.onClick;return r.a.createElement("div",{"aria-label":"backdrop",className:S.a.backdrop,onClick:a},r.a.createElement("img",{src:t,alt:"large img",className:S.a.modal}))},w=a(4),I=a.n(w),N=function(e){var t=e.onClick;return r.a.createElement("div",{className:I.a.wrapper},r.a.createElement("button",{type:"button",className:I.a.btn,onClick:t},"Load more..."))},L=a(21),M=a.n(L),O=function(e){var t=e.API_KEY,a=e.queryString,n=e.page,r=e.photosPerPage;return M.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(a,"&page=").concat(n,"&per_page=").concat(r,"&key=").concat(t))},q=function(e){var t=e.API_KEY,a=e.queryString,n=e.page,r=e.photosPerPage;return O({API_KEY:t,queryString:a,page:n,photosPerPage:r}).then(function(e){return e.data.hits})},R="13089896-ed765526c820829856852c492",U={isModalOpen:!1,queryString:"",page:1,pictures:[],largeImageURL:""},A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state=Object(s.a)({},U),a.handleSubmit=function(e){e.preventDefault()},a.handleQueryStringChange=function(e){var t=a.state.page,n=e.target.value;a.setState({queryString:n,page:1},function(){var e=a.state.queryString;q({API_KEY:R,queryString:e,page:t,photosPerPage:12}).then(function(e){return a.setState({pictures:e})})})},a.handleClickLoadMore=function(){var e=a.state.page;a.setState({page:e+1})},a.handleClickOpenModal=function(e){a.setState({isModalOpen:!0,largeImageURL:e.currentTarget.parentNode.firstElementChild.getAttribute("largeImageURL").toString()})},a.handleClickCloseModal=function(e){"DIV"===e.target.nodeName&&a.setState({isModalOpen:!1})},a.handleKeyPressCloseModal=function(e){27!==e.keyCode&&"Escape"!==e.key&&"Escape"!==e.code||a.setState({isModalOpen:!1})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.page,n=t.queryString;q({API_KEY:R,queryString:n,page:a,photosPerPage:12}).then(function(t){return e.setState({pictures:t})}),document.addEventListener("keydown",this.handleKeyPressCloseModal)}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.page,o=n.queryString,l=n.pictures;t.queryString===o&&t.page!==r&&q({API_KEY:R,queryString:o,page:r,photosPerPage:12}).then(function(e){return a.setState({pictures:[].concat(Object(c.a)(l),Object(c.a)(e))},function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})})})}},{key:"render",value:function(){var e=this.state,t=e.isModalOpen,a=e.queryString,n=e.pictures,o=e.largeImageURL;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(P,{imgSrc:o,onClick:this.handleClickCloseModal}),r.a.createElement("header",null,r.a.createElement(f,{value:a,onChange:this.handleQueryStringChange,onSubmit:this.handleSubmit})),r.a.createElement("main",null,r.a.createElement(v,{images:n,onClick:this.handleClickOpenModal}),r.a.createElement(N,{onClick:this.handleClickLoadMore})))}}]),t}(n.Component);l.a.render(r.a.createElement(A,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.f4202782.chunk.js.map